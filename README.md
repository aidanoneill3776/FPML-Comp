# FPML-Comp
FPML-Comp: Is a compensated polishing library built of the FPML library. All type declerations, functions, and subroutines are in the modules *eft*, *fpml*, and *fpml-comp*, which are located in the src directory.
## Authors
* [Thomas R. Cameron](https://thomasrcameron.com)
    * Mathematics and Computer Science Department, Davidson College
    * [Email: thcameron@davidson.edu](mailto:thcameron@davidson.edu)
* [Aidan O'Neill](undergraduate researcher)

## Instructions
Below are instructions for installing FPML-COMP tests and compiling the TeX figures. These instructions have been tested on macOS Mojave 10.14.5 and Ubuntu 18.04.2 LTS and will work on most Mac and Linux systems provided the dependencies are met.
### Installation
First, open the make.inc file to specify the Fortran compiler and flags. The default settings use the *gfortran* compiler with flags *-O2*. Note that mpfun objects are also defined and the location of the NAG Library is defined. Since the NAG Library is proprietary software, we have commented out this location and all tests that depend on the library in the makefile.

All tests can be installed by running *make install* from the root directory of FPML-Comp.
Once installed, *make clean* can be run to remove the leftover installation files, such as .mod and .o files. Note that the installation is done relative to the location of the FPML-Comp directory and nothing is installed outside of this directory. To uninstall simply run *make uninstall* from the root directory of FPML-Comp.
### Run Tests
Each test can be run individually using the executables inside the tests directory. One may also run all tests by running *make run* from the root directory of FPML, the parameters for these test runs may be set from within the make.inc file.
### Compile TeX
After running a test, the results will be in a file (named after the test) located in tests/data\_files. These data files can be viewed as is, or a figure displaying the data can be generated by compiling the associated TeX file (also named after the test) located in tests/TeX. All images can be created and moved into the tests/figures file by running *make compile* from the root directory of FPML-Comp.

The compilation of these TeX files requires *pdflatex*. For specific package dependencies see the individual TeX files but note that the typical TeX Live installation should include all necessary packages.